version: "2.1"
services:
  unifi-controller:
    image: ghcr.io/linuxserver/unifi-controller:latest
    container_name: unifi-controller
    dns: 192.168.1.20
    environment:
        - PUID=1034
        - PGID=65538
        - MEM_LIMIT=1024M #optional
        - MEM_STARTUP=1024M #optional
    volumes:
        - nfs_volume:/config
    ports:
        - 3478:3478/udp
        - 10001:10001/udp
        - 8282:8080 # UI http://
        - 8443:8443 # UI https://
    restart: unless-stopped
volumes:
    nfs_volume:
        driver: local
        driver_opts:
        type: nfs
        o: "nfsvers=4,addr=192.168.1.50,rw"
        device: ":/volume1/docker/unifi-controller"
